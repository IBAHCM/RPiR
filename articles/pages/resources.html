<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Useful Resources • RPiR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Useful Resources">
<meta property="og:description" content="RPiR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">RPiR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.56.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-chalkboard-teacher"></span>
     
    Lectures (slides)
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../lectures/RPiR1-intro.html">RPiR1-intro</a>
    </li>
    <li>
      <a href="../../lectures/RPiR2a-R.html">RPiR2a-R</a>
    </li>
    <li>
      <a href="../../lectures/RPiR2b-modelling.html">RPiR2b-modelling</a>
    </li>
    <li>
      <a href="../../lectures/RPiR2c-development.html">RPiR2c-development</a>
    </li>
    <li>
      <a href="../../lectures/RPiR4a-git.html">RPiR4a-git</a>
    </li>
    <li>
      <a href="../../lectures/RPiR4b-modelling.html">RPiR4b-modelling</a>
    </li>
    <li>
      <a href="../../lectures/RPiR5a-reporting.html">RPiR5a-reporting</a>
    </li>
    <li>
      <a href="../../lectures/RPiR5b-R.html">RPiR5b-R</a>
    </li>
    <li>
      <a href="../../lectures/RPiR6a-R.html">RPiR6a-R</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-chalkboard-teacher"></span>
     
    Lectures (html)
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../lectures_html/RPiR1-intro.html">RPiR1-intro</a>
    </li>
    <li>
      <a href="../../lectures_html/RPiR2a-R.html">RPiR2a-R</a>
    </li>
    <li>
      <a href="../../lectures_html/RPiR2b-modelling.html">RPiR2b-modelling</a>
    </li>
    <li>
      <a href="../../lectures_html/RPiR2c-development.html">RPiR2c-development</a>
    </li>
    <li>
      <a href="../../lectures_html/RPiR4a-git.html">RPiR4a-git</a>
    </li>
    <li>
      <a href="../../lectures_html/RPiR4b-modelling.html">RPiR4b-modelling</a>
    </li>
    <li>
      <a href="../../lectures_html/RPiR5a-reporting.html">RPiR5a-reporting</a>
    </li>
    <li>
      <a href="../../lectures_html/RPiR5b-R.html">RPiR5b-R</a>
    </li>
    <li>
      <a href="../../lectures_html/RPiR6a-R.html">RPiR6a-R</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-chalkboard-teacher"></span>
     
    Practicals (html)
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../tutorials/practical2-1/practical2-1.html">Practical2-1</a>
    </li>
    <li>
      <a href="../../tutorials/practical2-2/practical2-2.html">Practical2-2</a>
    </li>
    <li>
      <a href="../../tutorials/practical2-3/practical2-3.html">Practical2-3</a>
    </li>
    <li>
      <a href="../../tutorials/practical2-4/practical2-4.html">Practical2-4</a>
    </li>
    <li>
      <a href="../../tutorials/practical2-5/practical2-5.html">Practical2-5</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/IBAHCM/RPiR/discussions">
    <span class="far fa-comments"></span>
     
    Discussion
  </a>
</li>
<li>
  <a href="https://github.com/IBAHCM/RPiR/">
    <span class="fab fa-github"></span>
     
    GitHub
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="far fa-file-code"></span>
     
    Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../reference/index.html">Package functions</a>
    </li>
    <li>
      <a href="../../articles/pages/resources.html">Useful resources</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="far fa-file"></span>
     
    How to
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/pages/use_github.html">github</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="far fa-file"></span>
     
    Installation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/pages/install_github.html">github</a>
    </li>
    <li>
      <a href="../../articles/pages/install_RPiR.html">package</a>
    </li>
    <li>
      <a href="../../articles/pages/vscode_liveshare.html">vscode</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="resources_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Useful Resources</h1>
            
            <h4 class="date">February 01 2021</h4>
      
      
      <div class="hidden name"><code>resources.Rmd</code></div>

    </div>

    
    
<div id="reference-materials" class="section level1">
<h1 class="hasAnchor">
<a href="#reference-materials" class="anchor"></a>Reference materials</h1>
<div id="british-ecological-society" class="section level2">
<h2 class="hasAnchor">
<a href="#british-ecological-society" class="anchor"></a>British Ecological Society</h2>
<p>The <a href="https://www.britishecologicalsociety.org">British Ecological Society (BES)</a> is the oldest ecological society in the world, and one of the largest. It publishes <a href="https://www.britishecologicalsociety.org/publications/journals">several excellent journals</a>, including <a href="https://www.britishecologicalsociety.org/publications/journals/methods-in-ecology-and-evolution">Methods in Ecology and Evolution</a>, which publishes many software packages.</p>
<p>The society also provides many several <a href="https://www.britishecologicalsociety.org/publications/guides-to">guides on better science</a>. As part of the course, <strong>we require you to read the following guides</strong>:</p>
<ul>
<li><a href="https://www.britishecologicalsociety.org/wp-content/uploads/2019/06/BES-Guide-Reproducible-Code-2019.pdf">Reproducible Code</a></li>
<li><a href="https://www.britishecologicalsociety.org/wp-content/uploads/2019/06/BES-Guide-Data-Management-2019.pdf">Data Management</a></li>
</ul>
</div>
<div id="hadley-wickham" class="section level2">
<h2 class="hasAnchor">
<a href="#hadley-wickham" class="anchor"></a>Hadley Wickham</h2>
<p><a href="https://rstudio.com/speakers/hadley-wickham">Hadley Wickham</a> is the Chief Scientist for RStudio. He created the original <code>ggplot</code> library for his PhD. These days his <a href="https://www.tidyverse.org/packages">data analysis packages</a> are collectively known as the <a href="https://www.tidyverse.org">tidyverse</a>, the most famous of which are probably <a href="https://ggplot2.tidyverse.org">ggplot2</a> and <a href="https://dplyr.tidyverse.org">dplyr</a>. He has written three very useful books on data analysis and software development in R:</p>
<ul>
<li>
<a href="https://r4ds.had.co.nz">R for Data Science (R4DS)</a>
<ul>
<li><a href="https://jrnold.github.io/r4ds-exercise-solutions">Solutions to the exercises</a></li>
</ul>
</li>
<li>Advanced R
<ul>
<li>
<a href="http://adv-r.had.co.nz">1st edition</a> (I find this easier to navigate)
<ul>
<li><a href="https://advanced-r-solutions-ed1.netlify.app">Solutions to the exercises</a></li>
</ul>
</li>
<li>
<a href="https://adv-r.hadley.nz">2nd edition</a> (this is obviously updated)
<ul>
<li><a href="http://advanced-r-solutions.rbind.io">Solutions to the exercises</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="https://r-pkgs.org">R Packages</a></li>
</ul>
<p>We recommend all of these books as reference material, and will point to specific chapters at different times, but the books themselves are probably too long for you to read in their entirety. Nonetheless keep them for future reference, as they contain an enormous amount of knowledge about R in a (relatively!) compact form.</p>
</div>
<div id="assorted-other-materials" class="section level2">
<h2 class="hasAnchor">
<a href="#assorted-other-materials" class="anchor"></a>Assorted other materials</h2>
<div id="understanding-avoiding-and-fixing-errors-in-your-code" class="section level3">
<h3 class="hasAnchor">
<a href="#understanding-avoiding-and-fixing-errors-in-your-code" class="anchor"></a>Understanding, avoiding and fixing errors in your code</h3>
<p>As part of the course, <strong>we require you to watch <a href="https://rstudio.com/resources/rstudioconf-2020/object-of-type-closure-is-not-subsettable">this keynote</a></strong> from rstudio::conf 2020 by <a href="https://rstudio.com/speakers/jenny-bryan">Jenny Bryan</a> of RStudio. It is an excellent keynote on errors in R and how to identify and fix them.</p>
</div>
<div id="git-and-github-in-r-and-rstudio" class="section level3">
<h3 class="hasAnchor">
<a href="#git-and-github-in-r-and-rstudio" class="anchor"></a>Git and GitHub in R and RStudio</h3>
<p>Git is a very complex tool – it is used to manage the development of the whole Linux kernel! – so we cover only the most basic aspects of it. As well as the above, Jenny (with others) has written an excellent resource for using git and GitHub in R – <a href="https://happygitwithr.com">Happy Git and GitHub for the useR</a>, which has much more detail than our abbreviated materials, and is a good reference if you are confused or want to do something complicated. She also gave <a href="https://rstudio.com/resources/rstudioconf-2017/happy-git-and-gihub-for-the-user-tutorial">a talk on this topic</a> at rstudio::conf 2017.</p>
</div>
<div id="reproducible-and-generally-good-coding-practices" class="section level3">
<h3 class="hasAnchor">
<a href="#reproducible-and-generally-good-coding-practices" class="anchor"></a>Reproducible (and generally good) coding practices</h3>
<p>There are many materials on reproducible research, including the BES guide mentioned above. For background, we recommend watching <a href="https://ed.ted.com/lessons/is-there-a-reproducibility-crisis-in-science-matt-anticole">this short clip</a> by Matt Anticole for TED-Ed. <strong>We require you to read</strong> <a href="https://www.nature.com/articles/nn.4550">this article on sharing code</a> and <a href="https://thedataist.com/ten-good-coding-practices-for-data-scientists">this guide on good coding practices</a>. None of this was written specifically for R programmers, but there are useful tips for everyone (and some specific to R).</p>
</div>
<div id="r-cheatsheets" class="section level3">
<h3 class="hasAnchor">
<a href="#r-cheatsheets" class="anchor"></a>R cheatsheets</h3>
<p>RStudio and other contributors provide a variety of <a href="https://rstudio.com/resources/cheatsheets">cheatsheets</a> that summarise functionality of a variety of different topics in R, including markdown in reports, on RStudio itself, and everything from Base R to package development to parallel computing in R. <strong>The main cheatsheets are available directly from RStudio under <em>Help -&gt; Cheatsheets</em>.</strong></p>
</div>
<div id="r-markdown" class="section level3">
<h3 class="hasAnchor">
<a href="#r-markdown" class="anchor"></a>R Markdown</h3>
<p>R Markdown allows you to produce reports from your R code or, as RStudio put it, to <em>“turn your analyses into high quality documents, reports, presentations and dashboards.”</em> As well as the cheatsheet and reference guide above, there are a variety of resources for R Markdown:</p>
<ul>
<li>RStudio’s <a href="https://rmarkdown.rstudio.com">R Markdown website</a>, including:
<ul>
<li>
<a href="https://rmarkdown.rstudio.com/authoring_pandoc_markdown.html">Pandoc’s markdown website</a>, which describes the non-R parts of the format</li>
</ul>
</li>
<li>
<a href="https://bookdown.org/yihui/rmarkdown">R Markdown: The Definitive Guide</a> - an e-book by Yihui Xie, J. J. Allaire and Garrett Grolemund</li>
</ul>
<p>These are great resources, and can help you to produce everything from the simple reports you will be generating on this course, the lectures we are giving and this website with the course documentation, to complex interactive <a href="https://shiny.rstudio.com">Shiny apps</a>. Like Hadley Wickham’s books, they are probably references you will refer to later more than during the course, but they are completely comprehensive if you want to look anything up.</p>
<p>Particularly useful for you here are the instructions in <em>Happy Git and GitHub for the useR</em> for <a href="https://happygitwithr.com/r-test-drive.html">changing R Markdown into R scripts</a> of the kind you will be generating in these exercises.</p>
</div>
<div id="r-coder" class="section level3">
<h3 class="hasAnchor">
<a href="#r-coder" class="anchor"></a>R Coder</h3>
<p>The <a href="https://r-coder.com/learn-r">Learn R section</a> of this website provides explanations for a lot of common techniques that you use during this course in the <em>Programming</em> section. If you are confused by our expalanations, you may find this useful.</p>
</div>
<div id="r-coding-style" class="section level3">
<h3 class="hasAnchor">
<a href="#r-coding-style" class="anchor"></a>R coding style</h3>
<p>Version 1 of Advanced R provides <a href="http://adv-r.had.co.nz/Style.html">a style guide</a>. In version 2, this has been replaced by the <a href="https://www.tidyverse.org">tidyverse</a> <a href="https://style.tidyverse.org">style guide</a>. Google have <a href="https://google.github.io/styleguide/Rguide.html">an adaptation of this</a>. We do not ask (or even recommend) that you follow any of them, but they are well thought through, and you may decide you like one of them.</p>
<p>We only ask that your style is consistent, that you use meaningful names for functions and variables, and that you <strong>never</strong> use dots (<code>.</code>) in function names or use <code><a href="https://rdrr.io/r/base/rm.html">rm(...)</a></code> or install any packages in the code you submit for assessment.</p>
</div>
</div>
</div>
<div id="specific-techniques" class="section level1">
<h1 class="hasAnchor">
<a href="#specific-techniques" class="anchor"></a>Specific techniques</h1>
<div id="loops" class="section level2">
<h2 class="hasAnchor">
<a href="#loops" class="anchor"></a>Loops</h2>
<p>Loops allow you to repeat the same thing again and again. If you are doing something more than two or three times, you should try to find a loop to use that will avoid you having to copy and paste the same code over and over again, with the associated risks not only of mistyping or not copying correctly, but also of confusing by filling your R scripts with nearly identical chunks of code. There are fundamentally two kinds of loop:</p>
<ul>
<li>one where you know exactly how many times the loop will run, for instance because you are carrying something out once for each element of a vector or row or column of a data frame; and</li>
<li>one where you do not, because some part of your calculation in each step of the loop will determine whether to continue or to stop.</li>
</ul>
<div id="for-----loops" class="section level3">
<h3 class="hasAnchor">
<a href="#for-----loops" class="anchor"></a><code>for (...)</code> loops</h3>
<p><code>for</code> loops allow us to repeat something <em>for</em> a fixed number of times (<em>e.g.</em> once per element of a vector, once per row of a data frame, <em>etc.</em>).</p>
<p>They are called as:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">greetings</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Hello"</span>, <span class="st">"Goodbye"</span><span class="op">)</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">word</span> <span class="kw">in</span> <span class="va">greetings</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># body</span>
<span class="op">}</span></code></pre></div>
<p>and in each run through the loop, the variable, here <code>word</code>, is updated with the next element (here, in the vector <code>greetings</code>). We introduced them in week 1 and again in <a href="https://ibahcm.github.io/RPiR/lectures_html/RPiR5b-R.html">Lecture 5b</a> on Wednesday 27th and Practical <code>practicalA-1</code>. They were then used starting in Practical <code>practical1-1</code>.</p>
<p>There is a section in R4DS (within a more general chapter on <a href="https://r4ds.had.co.nz/iteration.html"><em>Iteration</em></a>) that covers <a href="https://r4ds.had.co.nz/iteration.html#for-loops"><code>for</code> loops</a>. For loops are also covered by R Coder <a href="https://r-coder.com/for-loop-r">here</a>.</p>
</div>
<div id="while-----loops" class="section level3">
<h3 class="hasAnchor">
<a href="#while-----loops" class="anchor"></a><code>while (...)</code> loops</h3>
<p><code>while</code> loops allows us to repeat something <em>while</em> a condition is still <code>TRUE</code>. They are particularly useful when you don’t know in advance exactly how many times something will be done, but can be used in any situation. Unlike <code>for</code> loops you need to update everything manually each time around:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">some_test</span><span class="op">(</span><span class="op">)</span>
<span class="kw">while</span> <span class="op">(</span><span class="va">test</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># Do something</span>
  <span class="va">test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/update.html">update</a></span><span class="op">(</span><span class="va">something</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p><code>test</code> is checked each time around, and as long as <code>test</code> continues to be <code>TRUE</code>, the code block inside the curly brackets <code>{ ... }</code> is run. Be careful that if you don’t update <code>test</code> inside that block, then it will continue for ever! However, if (when!) <code>test</code> is finally <code>FALSE</code>, the loop ends and R continue to the next piece of code.</p>
<p>We introduced them on Wednesday 27th in <a href="https://ibahcm.github.io/RPiR/lectures_html/RPiR5b-R.html">Lecture 5b</a> and in <code>practicalA-2</code>, and used them from Practical <code>practical2-4</code>. There is a section in R4DS (within a more general chapter on <a href="https://r4ds.had.co.nz/iteration.html"><em>Iteration</em></a>) that covers <a href="https://r4ds.had.co.nz/iteration.html#unknown-sequence-length"><code>while</code> loops</a>. While loops are also covered by R Coder <a href="https://r-coder.com/while-loop-r">here</a>.</p>
</div>
</div>
<div id="flow-control" class="section level2">
<h2 class="hasAnchor">
<a href="#flow-control" class="anchor"></a>Flow control</h2>
<div id="comparisons-testing-for-equality-and-difference" class="section level3">
<h3 class="hasAnchor">
<a href="#comparisons-testing-for-equality-and-difference" class="anchor"></a>Comparisons – testing for equality and difference</h3>
<p>These tests are essential for <code>while</code> loops, and other forms of flow control such as <code>if</code> statements. They allow us to test whether something is true, and change what lines of code are run depending on the outcome. There are the basic tests:</p>
<ul>
<li>
<code>a == b</code>: is <code>a</code> equal to <code>b</code>? (<code>TRUE</code> if this is true, <code>FALSE</code> if this is false)</li>
<li>
<code>a &gt; b</code>: is <code>a</code> greater than <code>b</code>?</li>
<li>
<code>a &lt; b</code>: is <code>a</code> less than <code>b</code>?</li>
<li>
<code>a &gt;= b</code>: is <code>a</code> greater than or equal to <code>b</code>?</li>
<li>
<code>a &lt;= b</code>: is <code>a</code> less than or equal to <code>b</code>?</li>
<li>
<code>a != b</code>: is <code>a</code> different from <code>b</code>?</li>
</ul>
<p>There are then three basic ways of changing or combining the above:</p>
<ul>
<li>
<code>(a &lt; b) || (c == d)</code>: is <strong>either </strong> <code>a</code> less than <code>b</code> <strong>or</strong> <code>c</code> equal to <code>d</code>?</li>
<li>
<code>(a &lt; b) &amp;&amp; (c == d)</code>: is <strong>both</strong> <code>a</code> less than <code>b</code> <strong>and</strong> <code>c</code> equal to <code>d</code>?</li>
<li>
<code>!((a &lt; b) &amp;&amp; (c == d))</code>: is the above <strong>not</strong> <code>TRUE</code>? <code>TRUE</code> if the above was <code>FALSE</code> and vice versa</li>
</ul>
<p>Remember to use lots of brackets to ensure you are combining things in the right order. These tests are used in <code>while</code> loops above to determine whether to continue through the loop again, and in <code>if</code> statements below, to determine what to do next.</p>
<p>We introduced these concepts on Friday 29th and Practical <code>practicalA-2</code>. Comparisons are also covered <a href="https://r4ds.had.co.nz/transform.html?q=compa#comparisons">in passing</a> in R4DS, and by R Coder in a bit more depth <a href="https://r-coder.com/operators-r">here</a>.</p>
</div>
<div id="if-something-and-if-something-----else-----statements" class="section level3">
<h3 class="hasAnchor">
<a href="#if-something-and-if-something-----else-----statements" class="anchor"></a><code>if (something)</code> and <code>if (something) { ... } else { ... }</code> statements</h3>
<p>The <code>if</code> command allow us to carry out a test, and if the result is <code>TRUE</code> carry out a block of R code (in curly brackets <code>{ ... }</code>). Optionally, if it is <code>FALSE</code>, a different block of code can be run instead. This allows us to do a variety of things. To give a very simple example:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="fl">2</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Maths works!"</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; [1] "Maths works!"</span></code></pre></div>
<p>This prints <code>[1] "Maths works!"</code> because the test is <code>TRUE</code>, so the code block that follows is run. Whereas:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="fl">2</span> <span class="op">&gt;=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"At least 5."</span><span class="op">)</span>
<span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"Less than or equal to 5."</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; [1] "Less than or equal to 5."</span></code></pre></div>
<p>This prints <code>[1] "Less than or equal to 5."</code> because the test was false, so R continues to the code block after the <code>else</code> statement. If there is no <code>else</code> statement, then no code is run, so:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="fl">2</span> <span class="op">&gt;=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="st">"At least 5."</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>does nothing. We use ’if<code>and</code>if … else` statements throughout the helper functions provided to you, and also in a couple of ways in the example code we provide you. For instance:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">codetools</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">RPiR</span><span class="op">)</span>

<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/codetools/man/findGlobals.html">findGlobals</a></span><span class="op">(</span><span class="va">plot_simple</span>, merge<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">$</span><span class="va">variables</span><span class="op">)</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span>
<span class="op">{</span>
  <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"Function plot_simple() may not use global variable(s): "</span>,
       <span class="fu"><a href="https://rdrr.io/pkg/codetools/man/findGlobals.html">findGlobals</a></span><span class="op">(</span><span class="va">plot_simple</span>, merge<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">$</span><span class="va">variables</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>This checks whether <code><a href="https://rdrr.io/r/base/length.html">length(findGlobals(plot_simple, merge=FALSE)$variables)</a></code> is non-zero, which is to say whether the <code>variables</code> element of what is returned by <code><a href="https://rdrr.io/pkg/codetools/man/findGlobals.html">findGlobals(plot_simple, merge=FALSE)</a></code> is not of length zero, <em>i.e.</em> whether there are any global variables in the function <code>plot_simple</code>. If there are, then the contents of the curly brackets are run, <code><a href="https://rdrr.io/r/base/stop.html">stop(...)</a></code> is called, and the code stops running. In fact, <code>plot_simple</code> has no global variables, so the code block is not run.</p>
<p>The second example we provide of using an <code>if</code> statement to control code execution is in Practical <code>practical3-4</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="va">first.graph</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="../../reference/plot_populations.html">plot_populations</a></span><span class="op">(</span><span class="va">final.populations</span>,
                   new.graph <span class="op">=</span> <span class="cn">TRUE</span>, 
                   col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>susceptibles <span class="op">=</span> <span class="st">"green"</span>, infecteds <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span><span class="op">)</span>
  <span class="va">first.graph</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span> 
<span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
  <span class="fu"><a href="../../reference/plot_populations.html">plot_populations</a></span><span class="op">(</span><span class="va">final.populations</span>,
                   new.graph <span class="op">=</span> <span class="cn">FALSE</span>,
                   col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>susceptibles <span class="op">=</span> <span class="st">"green"</span>, infecteds <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>This code tests whether the variable <code>first.graph</code> is <code>TRUE</code>. If it is, the following code block is run, and it plots a graph into a new graphics window and sets <code>first.graph</code> to <code>FALSE</code>. This code is run inside a loop (see above), and the next (and every subsequent) time it runs, <code>first.graph</code> is already <code>FALSE</code> so the code block following the <code>else</code> statement is run, and a plot is superimposed on the existing graphics window.</p>
<p>R Coder covers the basics of <code>if</code> statements <a href="https://r-coder.com/if-else-r">here</a>. R4DS seems to consider them too simple, but ironically they have <a href="https://adv-r.hadley.nz/control-flow.html">a chapter in Advanced R</a>; however, this contains a lot of advanced topics in flow control that are well beyond the scope of this course.</p>
</div>
</div>
<div id="functions" class="section level2">
<h2 class="hasAnchor">
<a href="#functions" class="anchor"></a>Functions</h2>
<p>Just as loops allow you to repeat the same code chunk again and again in one place, functions allow you to repeat the same task multiple times, but potentially in multiple places on different data. If you have a complex piece of code that does a single discrete thing, then you may want to wrap it up into a function so that you can refer to it by a simple name and keep the script that calls it clear and easy to read.</p>
<p>To quote from <a href="https://r4ds.had.co.nz/functions.html">the introduction to R4DS on functions</a>:</p>
<blockquote>
<p>One of the best ways to improve your reach as a data scientist is to write functions. Functions allow you to automate common tasks in a more powerful and general way than copy-and-pasting. Writing a function has three big advantages over using copy-and-paste:</p>
<ol style="list-style-type: decimal">
<li><p>You can give a function an evocative name that makes your code easier to understand.</p></li>
<li><p>As requirements change, you only need to update code in one place, instead of many.</p></li>
<li><p>You eliminate the chance of making incidental mistakes when you copy and paste (i.e. updating a variable name in one place, but not in another).</p></li>
</ol>
</blockquote>
<p>Functions allow us to wrap up a common task into a single line of code, irrespective of how complex and long the code chunk is, and to describe it with words of your choosing irrespective of how inscrutable the R is that is being run. Functions also leave you with only a single place that needs to be checked for correctness, rather than all of the places that you have pasted copies of your original chunk of code into.</p>
<p>Functions are really easy to write:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">add_up</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">first</span>, <span class="va">second</span><span class="op">)</span> <span class="op">{</span>
  <span class="va">first</span> <span class="op">+</span> <span class="va">second</span>
<span class="op">}</span>

<span class="co"># Add call the function to add 3 to 5!</span>
<span class="fu">add_up</span><span class="op">(</span><span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1] 8</span></code></pre></div>
<p>The critical thing to know is that your code should take its just arguments, here the variables <code>first</code> and <code>second</code>, and do some things to them to calculate some result. That result is just whatever the last line of code is that is run. If you are writing a simple function, this will be the final line before the close curly bracket (<code>}</code>), here <code>squared</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">add_and_square</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">first</span>, <span class="va">second</span><span class="op">)</span> <span class="op">{</span>
  <span class="co"># Calculate the result</span>
  <span class="va">added</span> <span class="op">&lt;-</span> <span class="va">first</span> <span class="op">+</span> <span class="va">second</span>
  <span class="va">squared</span> <span class="op">&lt;-</span> <span class="va">added</span> <span class="op">*</span> <span class="va">added</span>
  <span class="co"># And return it</span>
  <span class="va">squared</span>
<span class="op">}</span>

<span class="co"># And call the function to add 3 to 5 and square it!</span>
<span class="fu">add_and_square</span><span class="op">(</span><span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1] 64</span></code></pre></div>
<p>We introduced functions in <a href="https://ibahcm.github.io/RPiR/lectures_html/RPiR2c-development.html">Lecture 2c</a> on Wednesday 20th and Practical <code>practicalA-1</code>and then again in <a href="https://ibahcm.github.io/RPiR/lectures_html/RPiR5b-R.html">Lecture 5b</a> on Wednesday 27th. They were used starting in Practical <code>practical1-2</code>.</p>
<p>Functions are covered in R4DS <a href="https://r4ds.had.co.nz/functions.html">here</a>, and R Coder covers them in some depth <a href="https://r-coder.com/function-r">here</a>. Advanced R covers functions in enormous detail starting [here][functions-advanced-r] with an introduction to functional programming, and continuing for several chapters.</p>
</div>
<div id="r-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#r-packages" class="anchor"></a>R Packages</h2>
<p>We’ll talk more about these later, but for the time being here are some talks from rstudio::global 2021 that was on last month.</p>
<ul>
<li><a href="https://rstudio.com/resources/rstudioglobal-2021/make-a-package-make-some-friends">Make a package - Make some friends</a></li>
<li><a href="https://rstudio.com/resources/rstudioglobal-2021/youre-already-ready-zen-and-the-art-of-r-package-development">You’re Already Ready: Zen and the Art of R Package Development</a></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sonia Mitchell, Richard Reeve.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
